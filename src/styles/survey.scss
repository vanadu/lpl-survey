@import './variables.scss';

// !VA Landing Page
// !VA Version info

.landing-survey-test-container {
  display: flex;
  justify-content: right;
  padding: 0!important;
  margin: 0 40px 0 0!important;
  // display: none;
}

.landing-survey-test {
  padding: 0!important;
  margin: 0!important;
  font-family: $secondary_font!important;
  color: #353535!important;
  font-size: .913rem!important;
  line-height: 1.25rem!important;
  // display: none;
}

.landing-survey-version-container {
  display: flex;
  justify-content: right;
  margin-right: 40px;
}

.landing-survey-version {
  font-family: $secondary_font!important;
  color: #353535!important;
  font-size: .913rem!important;
  line-height: 1.25rem!important;
}

// !VA Landing Intro subhead
.landing-title-subhead {
  font-family: $primary_font!important;
  padding: 0!important;
  margin: .25rem 0 0 0!important;
  color: #6b6b6b!important;
  font-size: 1.313rem!important;
  line-height: 1.75rem!important;
  font-weight: 600!important;
}







.survey-dropdown {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 200px;
  font-family: inherit;
}

.survey-dropdown__button {
  padding: 10px 16px;
  background: #f5f6fa;
  border: 1px solid #dcdde1;
  cursor: pointer;
  border-radius: 4px;
  text-align: left;
  transition: background 0.2s;
}

.survey-dropdown__button:hover {
  background: #e1e6f0;
}

.survey-dropdown__list {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  flex-direction: column;
  width: 100%;
  margin: 4px 0 0 0;
  padding: 0;
  list-style: none;
  background: #fff;
  border: 1px solid #dcdde1;
  border-radius: 4px;
  box-shadow: 0 8px 16px rgba(44, 62, 80, 0.06);
  z-index: 10;
}

.survey-dropdown:hover .survey-dropdown__list {
  display: flex;
}

.survey-dropdown__item {
  padding: 10px 16px;
  cursor: pointer;
  transition: background 0.18s;
}

.survey-dropdown__item:hover {
  background: #e1e6f0;
}


// !VA Survey body
// -------------------------------------------------------------------------
// !VA  -- background, top and bottom padding, margins, max-width, centered with margin: 0 by default
.survey-wrapper .sd-body.sd-body--static {
  // !VA Width does nothing.
  // width: 1000px!important;
  // !VA 720 by default, probably for tablets
  max-width: 1000px;
  // !VA Mod 6->3, 10 -> 6
  padding-top: calc(3 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
  padding-bottom: calc(6 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
  
  @include sphone {
    padding: 4px 0 10px !important;
    margin-top: -6px !important;
  }
}

// !VA This is the actual survey title property at the top of the master-survey JSON
.sd-container-modern__title {
  padding: 0!important;
  margin: 0!important;
  .sd-header__text {
    height: 20px !important;
  }
  .sd-title {
    font-size: 1rem !important;
    line-height: 1.25rem !important;
    text-align: center;
    background: rgba(0, 0, 255, .3) !important; //devblue
  }
}

// !VA Survey container - background color is inherited from survey-wrapper
// ----------------------------------------------------------
.sd-container-modern {
    background: $home_bg_color;
}

// !VA 2025.12.19 This applies to ALL panels, not just the top-level
// !VA Top panel margin, i.e. directly above the introHeading
.survey-wrapper .sd-panel__content {
  // --sd-base-padding: calc(5 * var(--sjs-base-unit, var(--base-unit, 8px)));
  --sd-base-padding: calc(3 * var(--sjs-base-unit, var(--base-unit, 8px)));
}

// !VA 2025.12.19 OK for now
// !VA sets row top margins, does not set padding, bottom margins
.survey-wrapper .sd-row {
  // --sd-base-vertical-padding: calc(1 * var(--sjs-base-unit, var(--base-unit, 8px)));
  --sd-base-vertical-padding: calc(2* var(--sjs-base-unit, var(--base-unit, 8px)));
}


// !VA 2025.12.19 OK
// !VA Input and dropdown height
// ------------------------------
// !VA Height of input fields: this makes input fields shorter than the default
.survey-wrapper .sd-input {
  // padding: calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  padding: calc(.75 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA Set top and bottom padding on dropdowns 0 to match the shorter input height. Leave the horizontal padding base units.
.survey-wrapper .sd-dropdown {
    padding: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA Adjust the top and bottom paddings on ALL panel headers. That's going to be a problem later, probably.
// !VA ONLY APPLIES TO PANELS WITH TITLE PROPERTIES!
.sd-panel__header {
    // padding: 0!important;
    // margin: 0!important;
    padding-top: 16px!important;
    padding-bottom: 0!important;
}


// !VA Selects all element headers but doesn't appear to do anything
.sd-element__header--location-top {
  // padding-bottom: calc(0 * var(--sd-base-vertical-padding));
  // background: rgba(0, 0, 255, .3) !important; //devblue
}

// !VA Clear the bottom border in the subpanel title 
.sd-panel__header::after { 
  content: none !important;
  display: none !important;
  border: none !important;
  background: none !important;
  height: 0 !important;
  margin: 0 !important;
}

// !VA Sets the padding between the switch and the outer border
.survey-wrapper .sd-boolean {
  // padding: calc(0.5 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  padding: calc(0.25 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA Sets the height of the boolean element
.survey-wrapper .sd-boolean__label, .survey-wrapper .sd-boolean__thumb {
  // line-height: calc(.5 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
  line-height: calc(1 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
}

// !VA 2025.12.19 
// !VA sd-html element overrides.
// -------------------------------
.survey-wrapper .sd-html h2 {
  font-family: $secondary_font;
  font-size: var(--sjs-article-font-x-large-fontSize, calc(1.875 * (var(--sjs-font-size, 16px))));
  line-height: calc(2.125 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
}

// !VA OVERRIDES default h3 for sd-html elements.
.survey-wrapper .sd-html h3 {
  font-family: $secondary_font;
  font-size: var(--sjs-article-font-x-large-fontSize, calc(1.5 * (var(--sjs-font-size, 16px))));
  line-height: calc(1.75 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
}

// !VA OVERRIDES default p for sd-html elements
.survey-wrapper .sd-html {
  p, li {
      font-size: 1.125rem;
      line-height: 1.613rem;
      padding-bottom: .5rem !important;
  }
  li {
    margin-left: 1.5rem;
  }
}

// !VA INFO icons and links
// --------------------------
// !VA .srvy-general-info is the div wrapper that lives inside the HTML element for general info, i.e. info that's not attached to a question label.
.survey-wrapper .srvy-general-info {
  // !VA Defaults
}

.survey-wrapper .srvy-info-icon {
  width: 16px;
  height: 16px;
  vertical-align: -2px;
}

.survey-wrapper .srvy-info-link {
  font-size: 1rem;
  color: #B70B0C;
  font-weight: 600;
  text-decoration: none;
}

// !VA Position info label on inputs or other question elements absolutely and move it down 18px. .srvy-input-info is the div wrapper that lives inside the HTML element.
// !VA IMPORTANT -- not sure if this is doing to work.
.survey-wrapper .srvy-question-info {
  position: absolute;
  bottom: -16px;
}

.survey-wrapper .srvy-question-info .srvy-info-icon {
  width: 14px;
  height: 14px;
  vertical-align: -3px;
}

.survey-wrapper .srvy-question-info .srvy-info-link {
  font-size: .813rem;
  color: #B70B0C;
  font-weight: bold;
  text-decoration: none;
}


// !VA WORKING...

[data-name="CmpnInfoAnimalType"] fieldset {
  width: 60%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

[data-name="CmpnInfoWeightUnits"] .sd-title {
  width: 60%;
}

[data-name="CmpnInfoBreed"] .sd-input, [data-name="CmpnInfoWeight"] .sd-input {
  width: 60%;
}
  


/* 
  WARNING:
  Some of these layouts rely on .sd-row:nth-child() ordering.
  SurveyJS may insert extra rows in future versions,
  which would break this grid mapping.

  If layout breaks:
  - Inspect .sd-panel__content children
  - Update nth-child indices accordingly

  We intentionally avoid :has() and JS stamping
  because this is used in only 2â€“3 panels.
*/


[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content {
  display: grid;
  grid-template-columns: 6fr auto 4fr;
  grid-template-areas:
    "one one one"
    "two . three"
    "four . five";
  gap: 1rem;
}

[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content > .sd-row:nth-child(1) { grid-area: one; }
[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content > .sd-row:nth-child(2) { grid-area: two; }
[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content > .sd-row:nth-child(3) { grid-area: three; }
[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content > .sd-row:nth-child(4) { grid-area: four; }
[data-name="CmpnInfoDetailsPanel"] > .sd-element__content.sd-panel__content > .sd-row:nth-child(5) { grid-area: five; }


[data-name="dcsdCmpnInfoAgePanel"] > .sd-element__content.sd-panel__content {
  display: flex;
}

[data-name="dcsdCmpnInfoAgePanel"] .sd-input, [data-name="CmpnInfoWeight"] .sd-input {
  width: 60%;
}

// [data-name="IntubationHistoryReason"]  > .sd-element__content.sd-question__content > fieldset {
//   display: grid;
//   grid-template-columns: 3fr 4fr 3fr;
//   grid-template-areas:
//     "one one one";
//   gap: 1rem;

// }

// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(1) { grid-area: one; }
// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(2) { grid-area: two; }
// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(3) { grid-area: three; }
// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(4) { grid-area: four; }
// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(5) { grid-area: five; }
// [data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > .sd-row:nth-child(6) { grid-area: six; }


[data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > fieldset {
  display: grid;
  grid-template-columns: 3fr 4fr 3fr;

  /* control spacing */
  column-gap: 1rem;
  row-gap: 0.5rem;   /* vertical spacing */
}

[data-name="IntubationHistoryReason"] > .sd-element__content.sd-question__content > fieldset > .sd-row:nth-child(1) {
  grid-column: 1 / -1; /* full width */
}
