@import './variables.scss';

// !VA NAV MODS
/* Hide the default bottom navigation buttons */
@media (max-width: 639px) {
  .sd-navigation,
  .sd-body__navigation,
  .sd-footer,
  .sd-action-bar {
    display: none !important;
  }
}

@media (min-width: 640px) {
  .sj-surveynav {
    display: none !important;
  }
}

/* ========================================
   PAGE OVERLAY CONTAINER
======================================== */

/* Make the SurveyJS page the positioning context */
.sj-page-has-nav {
  position: relative;
}

/* Nav overlay inside page */
.sj-page-has-nav .sj-surveynav {
  position: absolute;
  left: 0;
  right: 0;
  top: 20px;                 /* adjust as needed */
  pointer-events: none;      /* allow page interaction */
  display: flex;
  justify-content: space-between;
  padding: 0 10px;
  z-index: 10;
}

/* Re-enable clicks only on buttons */
.sj-page-has-nav .sj-surveynav button {
  pointer-events: auto;
}


/* ========================================
   BUTTON BASE
======================================== */

.sj-surveynav__btn {
  /* remove default button styles */
  appearance: none;
  border: none;
  background: transparent;
  padding: 0;
  margin: 0;
  cursor: pointer;

  /* touch target */
  width: 48px;
  height: 48px;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* disabled state */
.sj-surveynav__btn:disabled {
  opacity: .35;
  cursor: default;
}


/* ========================================
   CHEVRON ICON CONTROL
======================================== */

/* control icon size here */
.sj-surveynav__btn svg {
  width: 22px;   /* â† change this to resize chevron */
  height: 22px;
}

/* optional: slightly softer color */
.sj-surveynav__btn svg {
  stroke: currentColor;
  color: #444;
}


/* ========================================
   ACCESSIBILITY TEXT
======================================== */

/* hidden but readable by screen readers */
.sj-surveynav__btn .sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
}

/* if you truly want it invisible everywhere */
.sj-surveynav__btn .sr-only.hide {
  display: none;
}



// !VA GLOBAL DEFINITIONS

// !VA Background color
.sd-container-modern {
  background: $home_bg_color;
}

.sd-container-modern .sd-page  {
  background: #FFFFFF;
  border-radius: 10px;
  padding: 30px;
}

// !VA Base unit and font size
.sd-container-modern {
  --sjs-base-unit: 8px;
  --sjs-font-size: 16px!important;


  // !VA GLOBAL CALCS FOR FONT SIZE & LINE HEIGHT
  // !VA Caluclate default body font and height based on  base font
  --sjs-article-font-default-fontSize: calc(1 * (var(--sjs-font-size, 16px)));
  --sjs-article-font-default-lineHeight: calc(1.3 * (var(--sjs-font-size, 16px)));
  // !VA Caluclate h3 font size and height based on base font
  --sjs-article-font-large-fontSize: calc(1.1 * (var(--sjs-font-size, 16px)));
  --sjs-article-font-large-lineHeight: calc(1.4 * (var(--sjs-font-size, 16px)));
  // !VA Caluclate h2 font size and height based on base font
  --sjs-article-font-x-large-fontSize: calc(1.3 * (var(--sjs-font-size, 16px)));
  --sjs-article-font-x-large-lineHeight: calc(1.8 * (var(--sjs-font-size, 16px)));
  // !VA Make the question titles the same size as the base font.
  // !VA NOTE: SOME OF THESE ELEMENTS LINE HEIGHT MUST BE SET IN THE ELEMENT CSS!
  --sjs-font-questiontitle-size: calc(.925 * (var(--sjs-font-size)));

  --sjs-font-editorfont-size: calc(.925 * (var(--sjs-font-size)));

  @include mphone {
    --sjs-base-unit: 8px;
    --sjs-font-size: 17px!important;
  }

  
  @include ldesktop {
    --sjs-base-unit: 8px;
    --sjs-font-size: 19px!important;

    // --sjs-article-font-x-large-fontSize: 21px;



    // --sjs-article-font-default-lineHeight: 26px;
    // --sjs-article-font-x-large-lineHeight: 32px;
  }
}

// !VA THIS INVALIDATES THE BASE FONT SIZE RECALCULATION!
// !VA FONT SIZE & LINE HEIGHT FOR NATIVE ELEMENTS
// .sd-container-modern {
//     --sjs-article-font-x-large-fontSize: 24px!important;  // H2
//     --sjs-article-font-large-fontSize: 21px; // H3
//     --sjs-article-font-default-fontSize: 18px;  // Body text
//     --sjs-font-questiontitle-size: 17px; // Question titles
//     --sjs-article-font-default-lineHeight: 26px;
//   @include ldesktop {
//     --sjs-article-font-x-large-fontSize: 24px!important;  // H2
//     --sjs-article-font-large-fontSize: 21px; // H3
//     --sjs-article-font-default-fontSize: 18px;  // Body text
//     --sjs-font-questiontitle-size: 17px; // Question titles
//     --sjs-article-font-default-lineHeight: 26px;
//   }

// }

// !VA LINE HEIGHT FOR 
.sd-container-modern {


}

// !VA GLOBAL PADDING
.sd-container-modern {
  // !VA BASE PADDING
  // !VA Default
  // --sd-base-padding: calc(5 * var(--sjs-base-unit, var(--base-unit, 8px)));
  // !VA Global override
  --sd-base-padding: calc(3 * var(--sjs-base-unit, var(--base-unit, 8px)))!important;
  // !VA BASE VERTICAL PADDING
  // !VA Default
  // --sd-base-vertical-padding: calc(4 * var(--sjs-base-unit, var(--base-unit, 8px)));
  // !VA Global override
  --sd-base-vertical-padding: calc(1 * var(--sjs-base-unit, var(--base-unit, 8px)))!important;
  // !VA BASEPAGE PADDING
  // !VA  Default
  // --sd-page-vertical-padding: calc(3 * var(--sjs-base-unit, var(--base-unit, 8px)));
  // !VA Global override
  --sd-page-vertical-padding: calc(3* var(--sjs-base-unit, var(--base-unit, 8px)))!important;
}

// !VA Survey body
// -------------------------------------------------------------------------
// !VA  -- background, top and bottom padding, margins, max-width, centered with margin: 0 by default
.sd-container-modern .sd-body.sd-body--static {
  // !VA 720 by default, probably for tablets
  max-width: 1000px;
  // sphone, expand the survey page to the viewport borders. Only works up to 600px- that's were the default SJS breakpoint kicks in
  padding:
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // right
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; //left

  // !VA Bump the page up a few pixels, deprecated
  // margin-top: -6px !important;
  // !VA Restore a small padding on mphone and up
  @include mphone {
    padding:
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // right
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; 
  }
  @include lphone {
    padding:
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // right
    calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) // bottom
    calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; 
  }
}


// !VA ADD LEFT AND RIGHT PADDING TO PAGES
.sd-container-modern .sd-page .sd-element--with-frame {
  // padding-top: 40px calc(var(--sd-base-padding) + var(--sv-element-add-padding-left, 20px));
  padding-top: calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
  padding-left: calc(var(--sd-base-padding) + var(--sv-element-add-padding-left, 10px));
  padding-right: calc(var(--sd-base-padding) + var(--sv-element-add-padding-right, 10px));
}

// !VA DEFAULT ROW PADDING, NO OVERRIDE - NOTE: This is part of the bottom whitespace on the separator and spacer elements. Also note that the first row in a panel has no top margin as per :first-of-type. 
.sd-container-modern .sd-row {
  flex-direction: column!important;
  // !VA Default
  margin-top: var(--sd-base-vertical-padding);
  &:first-of-type {
    // !VA No margin-top on first child element in sd-row
    margin-top: 0;
  }
}


// !VA DEFAULT PANEL CONTENT PADDING - Whitespace above and below the panel content
.sd-container-modern .sd-panel__content {
  padding-top: calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  padding-bottom: calc(3* (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA DEFAULT PANEL MARGIN BETWEEN PANELS - This is set with the top-margin only. Do not use margin-bottom.
.sd-container-modern .sd-element--nested-with-borders {
  margin-top: calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA DEFAULT PANEL TITLES
.sd-container-modern .sd-panel__title {
  // font-family: $secondary_font!important;
  --sjs-font-questiontitle-size: 17px;
  padding-top: calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
}

// !VA DEFAULT QUESTION STYLES
// !VA Sets the padding below the question header, i.e. title & description
.sd-container-modern .sd-question__header--location-top {
  padding-bottom: calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
}

// !VA GLOBAL INPUT STYlES
.sd-container-modern .sd-input {
  padding: calc(.575 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA GLOBAL DROPDOWN STYLES
.sd-container-modern .sd-dropdown {
  padding: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;
}


// !VA GLOBAL BOOLEAN STYLES
// !VA Sets the padding between the switch and the outer border
.sd-container-modern .sd-boolean {
  // padding: calc(0.5 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  padding: calc(0.25 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;
}



// !VA Sets the height of the boolean element
.sd-container-modern .sd-boolean__label, .survey-wrapper .sd-boolean__thumb {
  // line-height: calc(.5 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
  line-height: calc(1 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
}

// !VA Ratings element button spacing
.sd-container-modern .sd-rating .sd-rating__item {
  margin: calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;
}







// !VA H2 DEFAULT: NO PADDING OR MARGIN ON THE H2. Line-height determines whitespace. 
.sd-container-modern .sd-element__content .sd-html h2 {
  font-family: $secondary_font;
  // !VA Reduced line height

  // font-size: var(--sjs-article-font-x-large-fontSize, calc(1.5 * (var(--sjs-font-size, 16px))));


  line-height: calc(1 * (var(--sjs-article-font-x-large-lineHeight, var(--sjs-font-size, 16px))));
  // !VA Added top padding
  padding-top: calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
}

// !VA H3 DEFAULT: NO PADDING OR MARGIN ON THE H2. Line-height determines whitespace. 
.sd-container-modern .sd-element__content .sd-html h3 {
  font-family: $secondary_font;
  // !VA Applies --sjs-article-font-large-fontSize, no fallback
  // font-size: var(--sjs-article-font-large-fontSize, calc(1.1 * (var(--sjs-font-size, 16px))));


  // !VA Line heights for HTML elements aren't calculated by default, but set using the fallback value
  // line-height: var(--sjs-article-font-large-lineHeight, 22px)!important;
  // !VA Added top padding
  // padding-top: calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
  background: rgba(255, 0, 0, .3) !important; //devred
}

// !VA Line heights for question titles
.sd-element__title span {
  line-height: calc(1.4 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
}




// !VA HTML p, li DEFAULT: NO PADDING ON THESE ELEMENTS
.sd-container-modern .sd-element__content .sd-html {
  p, li {
      // !VA Applies --sjs-article-font-large-fontSize, no fallback
  font-size: var(--sjs-article-font-default-fontSize, calc(1 * (var(--sjs-font-size, 16px))));
  }
  li {
    margin-left: 1.5rem;
  }
}



// !VA Landing Page - LandingPanel & LandingHeadPanel
// !VA This is how you remove the panel borders AND the padding for those panels responsively for specific panels. Or globally for that matter. 
[data-name="LandingHeadPanel"].sd-element--nested-with-borders {
    border: 1px transparent var(--sjs-border-light, var(--border-light, #eaeaea))!important;
    padding: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;
    background: rgba(0, 0, 0, .08) !important; //devgry
    @include mphone {
    
    }
    @include lphone {
    
    }
    @include tablet {
    
    }
    @include desktop {
    
    }
    @include ldesktop {
      border: 1px solid var(--sjs-border-light, var(--border-light, #eaeaea))!important;
      --sd-base-padding: 1.5rem !important;
      padding: calc(3 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(3 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;
    }

}

// !VA Flex row on desktop, flex column on phones, 
[data-name="LandingHeadPanel"] {
  // margin-bottom: calc(3 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important;






  .sd-panel__content {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0!important;
    margin: 0!important;
    @include mphone {
    
    }
    @include lphone {
    
    }
    @include tablet {
      flex-direction: row;
    }
    @include desktop {
      flex-direction: row;
    }
    @include ldesktop {
      // !VA Padding 
      flex-direction: row;
      // padding: 1rem 0!important;
      margin-bottom: calc(0 * (var(--sjs-fbase-unit, var(--base-unit, 8px))))!important;
    }
    .sd-row {
      // padding: 0!important;
      // margin: 0!important;
    }
  }
}

.sd-container-modern .landing-title-head {
  font-family: $secondary_font!important;
  // !VA Override the default 
  font-size: calc(1.75 * (var(--sjs-font-size, 16px)));
  text-align: center;
  @include mphone {
  
  }
  @include lphone {
  
  }
  @include tablet {
  
  }
  @include desktop {
  
  }
  @include ldesktop {
    // font-size: var(--sjs-article-font-x-large-fontSize, calc(3 * (var(--sjs-font-size, 48px))))!important;
    // line-height: calc(2 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
    text-align: left;
  }
}

// !VA Landing Intro subhead
.sd-container-modern .landing-title-subhead {
  font-family: $primary_font!important;
  // padding: 0!important;
  // margin: .5rem 0 0 0!important;
  color: #6b6b6b!important;
  // font-size: 1.313rem!important;
  // line-height: 1.75rem!important;
  // font-weight: 600!important;
  // --sjs-font-size: 15px;
  // line-height: calc(1.25 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 15px))));
  text-align: center;
  @include mphone {
    
  }
  @include lphone {
    
  }
  @include tablet {
    
  }
  @include desktop {
    
  }
  @include ldesktop {
    // margin: .5rem 0 0 0!important;
    // --sjs-font-size: 18px;
    // line-height: calc(2 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
    text-align: left;
  }
}


.landing-survey-version-container {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  height: 100%;
  // height: 100px;
  // margin-right: 40px;
  // padding: 0!important;
  // margin: 0!important;
  @include mphone {
  
  }
  @include lphone {
  
  }
  @include tablet {
    justify-content: flex-end;
    margin-right: 40px;
  }
  @include desktop {
    justify-content: flex-end;
    margin-right: 40px;
  }
  @include ldesktop {
    justify-content: flex-end;
    margin-right: 40px!important;
    margin-top: -10px!important;
  }
}

// .landing-survey-version {
//   display: flex;
//   flex-direction: column;
//   align-items: center;
// }

.landing-survey-version-text {
  width: 100%;
  font-family: $secondary_font!important;
  color: #353535!important;
  // --sjs-font-size: 15px;
  // line-height: calc(1.25 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 15px))));
  text-align: left;
  padding: 0!important;
  margin: 0!important;
  @include mphone {
    
  }
  @include lphone {
    
  }
  @include tablet {
    
  }
  @include desktop {
    
  }
  @include ldesktop {
    
    // font-size: 1rem!important;
    // line-height: 1.125rem!important;
  }
}

.survey-version-logo {
  display: none;
  width: 80px;
  margin: 0 auto;
  height: auto;
  @include mphone {
  
  }
  @include lphone {
  
  }
  @include tablet {
    display: block;
    width: 120px
  }
  @include desktop {
    display: block;
    width: 120px
  }
  @include ldesktop {
    display: block; 
    width: 100px;
    // --sjs-font-size: 15px;
    // line-height: calc(1.25 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 15px))));
  }
}








// !VA Adjust the top and bottom paddings on ALL panel headers. That's going to be a problem later, probably.
// !VA ONLY APPLIES TO PANELS WITH TITLE PROPERTIES!
.sd-panel__header {
    // padding: 0!important;
    // margin: 0!important;
    // padding-top: 16px!important;
    // padding-bottom: 0!important;
    // background: rgba(255, 0, 0, .3) !important; //devred
}


// !VA Selects all element headers but doesn't appear to do anything
.sd-element__header--location-top {
  // padding-bottom: calc(0 * var(--sd-base-vertical-padding));
}

// !VA Clear the bottom border in the subpanel title 
.sd-panel__header::after { 
  content: none !important;
  display: none !important;
  border: none !important;
  background: none !important;
  height: 0 !important;
  margin: 0 !important;
}

// !VA Sets the padding between the switch and the outer border
.survey-wrapper .sd-boolean {
  // padding: calc(0.5 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  padding: calc(0.25 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}

// !VA Sets the height of the boolean element
.survey-wrapper .sd-boolean__label, .survey-wrapper .sd-boolean__thumb {
  // line-height: calc(.5 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
  // line-height: calc(1 * (var(--sjs-font-editorfont-size, var(--sjs-font-size, 16px))));
}

// !VA INFO icons and links
// --------------------------
// !VA .survey-general-info is the div wrapper that lives inside the HTML element for general info, i.e. info that's not attached to a question label.
.survey-wrapper .survey-general-info {
  // !VA Defaults
  position: relative;
  display: block;
  height: 40px;
  padding-left: 1.25rem;
  text-indent: -1.25rem;
  padding-top: calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
  // margin-bottom: calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) !important;
}

.survey-wrapper .survey-info-icon {
  width: 16px;
  height: 16px;
  vertical-align: -2px;
}

.survey-wrapper .survey-info-link {
  // --sjs-font-size: 16px!important;
  // !VA Font size override, renders to 16px
  // font-size: calc(1 * (var(--sjs-font-size, 16px)));
  // line-height: calc(1.5 * (var(--sjs-font-questiontitle-size, var(--sjs-font-size, 16px))));
  color: #B70B0C;
  font-weight: 600;
  text-decoration: none;
}

// !VA Position info label on inputs or other question elements absolutely and move it down 18px. .survey-input-info is the div wrapper that lives inside the HTML element.
// !VA IMPORTANT -- not sure if this is doing to work.
.survey-wrapper .survey-question-info {
  position: absolute;
  bottom: -16px;
}

.survey-wrapper .survey-question-info .survey-info-icon {
  width: 14px;
  height: 14px;
  vertical-align: -3px;
}

.survey-wrapper .survey-question-info .survey-info-link {
  font-size: .813rem;
  color: #B70B0C;
  font-weight: bold;
  text-decoration: none;
}


// --- Typography tokens ---

/* Apply to fieldset.sd-selectbase */
.survey-two-col {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem 1rem;
  /* fieldset reset */
  border: 0;
  padding: 0;
  margin: 0;
  min-width: 0;
}

// !VA Two column checkboxes
.survey-two-col > .sd-item {
  // !VA Width of the boolean radios
  flex: 0 0 calc(45% - 0.5rem); /* 0.5rem is half of the column gap (1rem) */
  box-sizing: border-box;
}
// !VA Two column boolean radio buttons, creates a 60% width element
.survey-two-col .sd-item.sd-radio {
  // !VA Width of the boolean radios
  flex: 0 0 calc(30% - 0.5rem); /* 0.5rem is half of the column gap (1rem) */
  box-sizing: border-box;
}

// !VA THREE-BUTTON RADIO GROUPS i.e. Yes No Don't know
// !VA IMPORTANT: 
// Apply to fieldset.sd-selectbase so titles/headers are unaffected
.survey-three-col {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem 1rem;
  width: 600px;
  // fieldset reset (since target is a fieldset)
  border: 0;
  padding: 0;
  margin: 0;
  min-width: 0;
  // !VA Creates a 480px element with three equal button widths
  .sd-radio {
    max-width: 180px!important;
  }
}
// !VA I'm not sure what this does
.survey-three-col > .sd-item {
  flex: 1 1 14rem; // ~3 columns depending on available width
}

// !VA NOT USED
.survey-fieldset-w-60pct { 
  width: 60%; 
}

// !VA 
.survey-fieldset-w-300 { 
  width: 300px; 
}

// !VA Medium width text boxes and dropdown, i.e. CmpnName, UserInfoAgeGroup. 
.survey-control-w-300 { 
  width: 300px !important; 
}

// !VA Wide text boxes and dropdowns
.survey-control-w-600 { 
  width: 600px !important; 
}

// !VA Unused as yet
.survey-control-w-200 { 
  width: 200px!important;

}

// !VA Unused as yet
.survey-control-w-150 { 
  width: 150px!important;

}
// !VA Unused as yet
// great for 3-digit-ish fields
.survey-control-w-6ch { 
  width: 6ch!important; 
}


// !VA Apply border-box to all control elements
.survey-control-w-200,
.survey-control-w-300,
.survey-control-w-600,
.survey-control-w-6ch { box-sizing: border-box; }


.survey-q-separator-below, .survey-q-separator-above, .survey-q-space-below, .survey-q-separator-above  {
  position: relative;
  padding: 0; // no padding, spacing goes around the ::after
}

// !VA SEPARATOR ABOVE ELEMENT - WHITESPACE ABOVE and BELOW THE SEPARATOR - the row has   
.survey-q-separator-above::before {
  content: "";
  display: block;
  width: 600px;
  height: 1px;
  // !VA Whitespace above is larger than whitespace below because sd-row has whitespace above by default
  margin: calc(1.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) auto calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; // centers horizontally
  background: rgba(0, 0, 0, 0.08);
}

// !VA SEPARATOR BELOW ELEMENT - WHITESPACE ABOVE and BELOW THE SEPARATOR - the row has   
.survey-q-separator-below::after {
  content: "";
  display: block;
  width: 600px;
  height: 1px;
  // !VA Whitespace above is larger than whitespace below because sd-row has whitespace above by default
  margin: calc(3.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) auto calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; // centers horizontally
  background: rgba(0, 0, 0, 0.08);
}



// !VA SPACE ABOVE ELEMENT -   
.survey-q-space-above::before {
  content: "";
  display: block;
  width: 600px;
  height: 1px;
  margin: calc(3.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) auto calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; // centers horizontally
  // background: rgba(0, 0, 0, 0.05);
  // background: rgba(0, 128, 0, .3) !important; //devgreen
}

// !VA SPACE BELOW ELEMENT    
.survey-q-space-below::after {
  content: "";
  display: block;
  width: 600px;
  height: 1px;
  // !VA Whitespace above is larger than whitespace below because sd-row has whitespace above by default
  margin: calc(3.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) auto calc(1 * (var(--sjs-base-unit, var(--base-unit, 8px))))!important; // centers horizontally

}


// !VA Custom Panel Layouts
// =============================

[data-name="LandingWelcomePanel"] {
  &.sd-element--nested-with-borders {
    padding-top: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))));
    padding-bottom: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))));
    margin-top: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))));
    border: none;
  }
  .sd-panel__content {
    padding-bottom: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))));
    margin-bottom: calc(0 * (var(--sjs-base-unit, var(--base-unit, 8px))));
  }



}









// !VA INFO ICONSThis is probably going to have to be where all the info icon links are styled because I have no idea how to get that into the formatting helper. 
[data-name="LandingPrivacyConsentLinksPanel"] .sd-element__content.sd-panel__content {
  display: flex;
  width: 80%;
  padding: 0!important;
  margin: 0!important;
  .sd-row {
    padding: 0!important;
    margin: 0!important;
  }
}

// !VA Force age panels to 
[data-name="dcsdCmpnInfoAgePanel"],
[data-name="EarlySymptomsFirstSignsPanel"],
[data-name="PrimaryDurationFirstConsult"],
[data-name="TreatmentStatusAgePanel"],
 {
  .sd-element__content.sd-panel__content {
    .sd-row {
      width: 250px!important;
        padding: 0!important;
        margin: 0!important;
    }
  }
}

// !VA Force the User Name and Country to 2-1 layout
[data-name="UserInfoAboutPanel"] .sd-element__content.sd-panel__content {
  display: grid;
  gap: 0.75rem 1rem;
  align-items: start;
  grid-template-columns: 1fr 1fr;
  .sd-row {
    padding: 0!important;
    margin: 0!important;
  }
}

// !VA Force CmpnInfoDetailsPanel into 1-2-2 grid layout
[data-name="CmpnInfoDetailsPanel"] .sd-element__content.sd-panel__content {
  display: grid;
  gap: 0.25rem 1rem;
  align-items: start;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  grid-auto-flow: row;

  // make first child span both columns
  > :first-child {
    grid-column: 1 / -1;
  }
}

// !VA Force age/date panels to two-column layout
[data-name="dcsdCmpnInfoAgePanel"] .sd-element__content.sd-panel__content,
[data-name="lvngCmpnInfoAgePanel"] .sd-element__content.sd-panel__content,
[data-name="EarlySymptomsFirstSignsPanel"] .sd-element__content.sd-panel__content,
[data-name="PrimaryDurationFirstConsult"] .sd-element__content.sd-panel__content,
[data-name="TreatmentStatusAgePanel"] .sd-element__content.sd-panel__content
{
  display: flex;
  .sd-row {
    padding: 0!important;
    margin: 0!important;
  }
}

// !VA This is to force two-column radiogroups to two columns
[data-name="ConclusionCauseOfDeath"] .sd-selectbase.survey-two-col {
  .sd-item.sd-radio {
    flex: 0 0 calc(45% - 0.5rem); /* 0.5rem is half of the column gap (1rem) */
    box-sizing: border-box;
  }
}


[data-name="ConclusionDifferentChoices"]  {
  width: 720px!important;
}

// !VA PROGRESS BAR
.sd-root-modern--mobile.sd-progress-buttons {
padding:calc(2 * (var(--sjs-base-unit, var(--base-unit, 8px)))) calc(3 * (var(--sjs-base-unit, var(--base-unit, 8px))));
}


// !VA Progress text color
.sd-progress-buttons__footer .sd-progress-buttons__page-title {
  // !VA General overrides
  color: $content_bg_color!important;
  // !VA Small phone overrides
  margin-top: 0!important;
  // font-size: calc(0.5 * (var(--sjs-font-size, 16px)));
  @include mphone {
  
  }
  @include lphone {
    
  }
  @include tablet {
    
  }
  @include desktop {
    
  }
  @include ldesktop {
    font-size: calc(0.75 * (var(--sjs-font-size, 16px)));
    margin-top: var(--sjs-base-unit, var(--base-unit, 8px));
  }
}

// !VA Progress button color
.sd-progress-buttons__button-content {
  border: calc(0.5 * (var(--sjs-base-unit, var(--base-unit, 8px)))) solid $secondary_color !important;
}


// !VA SUCCESS/INPROGRESS page

.in-progress {
  position: relative; // important for overlay positioning
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 1000px;
  height: 600px;
  margin: 40px;
  padding-bottom: 150px;
}


.success-container-wrap {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

// !VA IMPORTANT! Apply background to container without affecting the container content
.success-container {
  position: relative; // important for overlay positioning
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 1000px;
  height: 600px;
  margin: 40px;
  padding-bottom: 150px;
  opacity: 0;
  animation: fadeInContainer 0.25s ease forwards;
}

@keyframes fadeInContainer {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.success-container::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(
      circle at center,
      rgba(0,0,0,0) 55%,
      rgba(0,0,0,0.35) 100%
    ),
     linear-gradient(
      rgba(196,196,196,0.8),
      rgba(196,196,196,0.8)
    ),
    url("/img-miss-b-kitchen-cropped.jpg") center / cover no-repeat;

  filter: grayscale(100%) contrast(1.2);
}

// !VA Content styles
// !VA This is the H1 that matches with the title tag
.success-head {
  @include mphone {
    padding-bottom: .25rem;
    font-size: $mphoneXXLFontSize;
    line-height: $mphoneXLLineHeight; 
  }
  @include lphone {
    padding: 1rem 0 .313rem;
    font-size: $lphoneXXLFontSize;
    line-height: $lphoneXLLineHeight; 
  }
  @include tablet {
    padding: 1rem 0 .25rem;
    font-size: $tabletXXLFontSize;
    line-height: $tabletXLLineHeight
  }
  @include desktop {
    padding: 1.25rem 0 .25rem;
    font-size: $desktopXXLFontSize;
    line-height: $desktopXLLineHeight
  }
  @include ldesktop {
    padding: 1.25rem 0 .5rem;
    font-size: $ldesktopXXLFontSize;
    line-height: $ldesktopXLLineHeight
  }
  margin: 0 0 .25rem;
  color: $dark_text_color;
  font-family: $secondary_font;
  font-size: $rootXXLFontSize;
  line-height: $rootXLLineHeight; 
  font-weight: 500;
  // text-align: center;
}

.success-logo {
  width: 200px;
  height: auto;
}

.success-icon {
  @include lphone {
    width: 100px;
    margin-bottom: .5rem;
  }
  @include tablet {
    width: 110px;
    margin-bottom: .75rem;
  }
  @include desktop {
    width: 110px;
    margin-bottom: .75rem;
  }
  @include ldesktop {
    width: 136px;
    margin-bottom: 1.25rem;
  }
  position: relative;
  width: 80px;
  height: auto;
  margin-bottom: .25rem;
  // !VA 2024
  z-index: 100;
}

.success-text {
  @include mphone {
    margin: .188rem 0 .313rem;
    font-size: $mphoneLargeFontSize;
    line-height: $mphoneLargeLineHeight;
  }
  @include lphone {
    margin: .25rem 0 .375rem;
    font-size: $lphoneLargeFontSize;
    line-height: $lphoneLargeLineHeight;
  }
  @include tablet {
    margin: .313rem 0 .375rem;
    font-size: $tabletLargeFontSize;
    line-height: $tabletLargeLineHeight;
  }
  @include desktop {
    font-size: $desktopLargeFontSize;
    line-height: $desktopLargeLineHeight;
  }
  @include ldesktop {
    font-size: $ldesktopLargeFontSize;
    line-height: $ldesktopLargeLineHeight;
  }
  // padding: .5rem 0 0 0;
  margin: .125rem 0 .25rem;
  font-family: $primary_font;
  color: $dark_text_color;
  font-size: $rootLargeFontSize;
  line-height: $rootLargeLineHeight;
  font-weight: 400;
  text-align: center;
}

.survey-spacer {
  height: 300px;
}

// !VA Survey Submission Spinner
.success-spinnerWrap {
  position: relative;
  // position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.85);
  background: transparent;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 300px;
  z-index: 10;

  transition: opacity 0.5s ease;
}

.success-spinnerWrap.isHidden {
  opacity: 0;
  pointer-events: none;
}

.success-spinnerWrap.isShown {
  opacity: 1;
  pointer-events: auto;
}

.survey-fade {
  transition: opacity 0.5s ease;
}

.survey-fade.isSubmitting {
  opacity: 0.35;
}

// !VA Spinner and Fades
// ------------------------

.success-stage {
  position: relative;
}

/* spinner stays centered */
// !VA Deprecated
.success-spinner {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: opacity 0.5s ease;
}

.success-spinner.fadeOut {
  opacity: 0;
}

/* content fades in */
.success-content {
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  // padding-bottom: 150px;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}

.success-content.fadeIn {
  opacity: 1;
  transform: translateY(0);
}

/* Content starts hidden */
.success-contentWrap {
  opacity: 0;
  transform: translateY(6px);
}

/* When done, fade content in */
.success-contentWrap.isVisible {
  opacity: 1;
  transform: translateY(0);
}

.spinner-object {
  width: 42px;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.spinner-object::after {
  content: "";
  width: 42px;
  height: 42px;
  border: 4px solid #ddd;
  border-top-color: #333;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  aspect-ratio: 1 / 1;   // modern browsers
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


// !VA FOUC Fix and Survey Page Fade-in
.surveyFadeWrap {
  opacity: 0;
  pointer-events: none;
  transition: opacity 240ms ease;
}

.surveyFadeWrap.isReady {
  opacity: 1;
  pointer-events: auto;
}

/* Animate ONLY the page content when SurveyJS swaps pages */
.sd-page.sd-body__page .sd-row {
  animation: sjPageFadeIn 300ms ease;
}

@keyframes sjPageFadeIn {
  from { opacity: 0; transform: translateY(2px); }
  to   { opacity: 1; transform: translateY(0); }
}


// !VA  DEV ONLY

// !VA Survey Text Panel for computedValues

[data-name="LandingTestPanel"] {
  display: none;
}


.landing-survey-test {
  padding: 0!important;
  margin: 0!important;
  font-family: $secondary_font!important;
  color: #353535!important;
  font-size: .913rem!important;
  line-height: 1.25rem!important;
}


/* === Survey Dropdown (click-controlled) === */

.survey-dev-menu {
  position: relative;
  display: none;
  display: inline-flex;
  flex-direction: column;
  width: 200px;
  font-family: inherit;
    @include mphone {
    
    }
    @include lphone {
    
    }
    @include tablet {
    
    }
    @include desktop {
    
    }
    @include ldesktop {
      display: inline-flex;
      // display: none;
    }
}

/* Button */
.survey-dev-menu__button {
  padding: 10px 16px;
  background: #f5f6fa;
  border: 1px solid #dcdde1;
  cursor: pointer;
  border-radius: 4px;
  text-align: left;
  transition: background 0.2s;
  user-select: none;
}

.survey-dev-menu__button:hover,
.survey-dev-menu__button:focus {
  background: #e1e6f0;
  outline: none;
}

/* List container */
.survey-dev-menu__list {
  /* positioning */
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  width: 100%;

  /* box model */
  margin: 0;
  padding: 4px 0;
  list-style: none;

  /* visuals */
  background: #fff;
  border: 1px solid #dcdde1;
  border-radius: 4px;
  box-shadow: 0 8px 16px rgba(44, 62, 80, 0.06);

  /* stacking */
  z-index: 9999;

  /* hidden by default (BUT still animatable) */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-4px);
  pointer-events: none;

  /* layout */
  display: flex;
  flex-direction: column;

  /* animation */
  transition: opacity 0.15s ease, transform 0.15s ease, visibility 0.15s;
}

/* OPEN state (set by React className) */
.survey-dev-menu.open .survey-dev-menu__list {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

/* Items */
.survey-dev-menu__item {
  padding: 0; /* let the Link carry padding */
}

/* Make the Link fill the row so the whole row is clickable */
.survey-dev-menu__item a {
  display: block;
  padding: 10px 16px;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  transition: background 0.18s;
}

.survey-dev-menu__item a:hover,
.survey-dev-menu__item a:focus {
  background: #e1e6f0;
  outline: none;
}

/* IMPORTANT: remove hover-to-open behavior (unreliable) */
/* .survey-dropdown:hover .survey-dropdown__list { display: flex; } */



